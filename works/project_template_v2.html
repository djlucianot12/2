<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plantilla de Proyecto V2</title>
    <link rel="stylesheet" href="../assets/css/project-template-v2.css">
    <!-- Favicons (copiados de la estructura existente) -->
    <link rel="apple-touch-icon" sizes="180x180" href="../assets/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/svg+xml" href="../assets/favicons/favicon_ltsd.svg">
    <link rel="icon" type="image/png" sizes="32x32" href="../assets/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../assets/favicons/favicon-16x16.png">
    <link rel="manifest" href="../assets/favicons/site.webmanifest">
    <meta name="theme-color" content="#ffffff">
</head>
<body> <!-- Eliminada la clase project-page -->

    <header class="ptv2-header">
        <div class="ptv2-header-content">
            <div class="ptv2-header-left">
                <a href="../index.html" class="ptv2-logo">LTSD</a>
                <nav class="ptv2-nav">
                    <a href="../index.html#works" class="ptv2-nav-link">Back to Projects</a>
                </nav>
            </div>
            <div class="ptv2-header-right">
                <span class="ptv2-project-date">Octubre 2023</span> <!-- Fecha estática de ejemplo -->
            </div>
        </div>
    </header>

    <main class="ptv2-main-content">
        <section class="ptv2-project-title-section">
            <h1>Nombre del Proyecto de Ejemplo</h1>
        </section>

        <section class="ptv2-media-gallery">
            <!-- 8 Imágenes y 2 Videos -->
            <div class="ptv2-media-item">
                <img src="../assets/img/common/placeholder.svg?id=v2-img1" alt="Imagen 1">
                <p class="ptv2-media-caption">Imagen 1 del Proyecto</p>
            </div>
            <div class="ptv2-media-item">
                <img src="../assets/img/common/placeholder.svg?id=v2-img2" alt="Imagen 2">
                <p class="ptv2-media-caption">Imagen 2 del Proyecto</p>
            </div>
            <div class="ptv2-media-item">
                <img src="../assets/img/common/placeholder.svg?id=v2-img3" alt="Imagen 3">
                <p class="ptv2-media-caption">Imagen 3 del Proyecto</p>
            </div>
            <div class="ptv2-media-item">
                <img src="../assets/img/common/placeholder.svg?id=v2-img4" alt="Imagen 4">
                <p class="ptv2-media-caption">Imagen 4 del Proyecto</p>
            </div>
            <div class="ptv2-media-item">
                <div class="ptv2-video-wrapper">
                    <iframe src="https://www.youtube.com/embed/placeholder_video_1" title="Video 1 del Proyecto" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>
                <p class="ptv2-media-caption">Video 1 del Proyecto</p>
            </div>
            <div class="ptv2-media-item">
                <img src="../assets/img/common/placeholder.svg?id=v2-img5" alt="Imagen 5">
                <p class="ptv2-media-caption">Imagen 5 del Proyecto</p>
            </div>
            <div class="ptv2-media-item">
                <img src="../assets/img/common/placeholder.svg?id=v2-img6" alt="Imagen 6">
                <p class="ptv2-media-caption">Imagen 6 del Proyecto</p>
            </div>
            <div class="ptv2-media-item">
                <img src="../assets/img/common/placeholder.svg?id=v2-img7" alt="Imagen 7">
                <p class="ptv2-media-caption">Imagen 7 del Proyecto</p>
            </div>
            <div class="ptv2-media-item">
                <img src="../assets/img/common/placeholder.svg?id=v2-img8" alt="Imagen 8">
                <p class="ptv2-media-caption">Imagen 8 del Proyecto</p>
            </div>
            <div class="ptv2-media-item">
                <div class="ptv2-video-wrapper">
                    <iframe src="https://www.youtube.com/embed/placeholder_video_2" title="Video 2 del Proyecto" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>
                <p class="ptv2-media-caption">Video 2 del Proyecto</p>
            </div>
        </section>

        <section class="ptv2-project-description">
            <h2>Descripción del Proyecto</h2>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
            <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
            <p>Más texto para asegurar el scroll...</p>
            <p>Más texto para asegurar el scroll...</p>
            <p>Más texto para asegurar el scroll...</p>
            <p>Más texto para asegurar el scroll...</p>
            <p>Más texto para asegurar el scroll...</p>
        </section>
    </main>

    <footer class="ptv2-footer">
        <p>&copy; <span id="ptv2-current-year"></span> LT Studio Desing. Todos los derechos reservados.</p>
    </footer>

    <div class="ptv2-media-counter">
        <span id="ptv2-current-media">1</span> / <span id="ptv2-total-media">0</span>
    </div>

    <script>
        // Pequeño script para el año del footer
        document.getElementById('ptv2-current-year').textContent = new Date().getFullYear();
    </script>
    <script src="../assets/js/project-template-v2-counter.js" defer></script>
    <script>
    // Script de reseteo más agresivo
    function applyAggressiveResets() {
        const elementsToReset = [
            { el: document.documentElement, name: '<html>' },
            { el: document.body, name: '<body>' },
            { el: document.getElementById('wrapper'), name: '#wrapper' },
            { el: document.getElementById('page'), name: '#page' },
            { el: document.getElementById('contents'), name: '#contents' }
        ];

        console.log('--- INICIO SCRIPT DE RESETEO AGRESIVO ---');

        elementsToReset.forEach(item => {
            if (item.el) {
                console.log(`Reseteando estilos para: ${item.name}`);
                item.el.style.setProperty('transform', 'none', 'important');
                item.el.style.setProperty('filter', 'none', 'important');
                item.el.style.setProperty('perspective', 'none', 'important');

                // Intentar forzar el scroll si está bloqueado
                // Comprobamos si el overflow-y está 'hidden' antes de cambiarlo
                const currentOverflowY = window.getComputedStyle(item.el).overflowY;
                if (currentOverflowY === 'hidden') {
                    item.el.style.setProperty('overflow-y', 'auto', 'important');
                    console.log(`  - ${item.name}: overflow-y cambiado de 'hidden' a 'auto !important'`);
                } else if (currentOverflowY === 'visible' && (item.name === '#wrapper' || item.name === '#page' || item.name === '#contents')) {
                    // Si es visible en un wrapper, podría ser problemático para el scroll interno
                    // item.el.style.setProperty('overflow-y', 'auto', 'important');
                    // console.log(`  - ${item.name}: overflow-y era 'visible', intentando 'auto !important'`);
                }


                // Para el body específicamente, asegurarnos de que pueda scrollear
                if (item.name === '<body>') {
                   item.el.style.setProperty('overflow', 'auto', 'important');
                   console.log(`  - <body>: overflow forzado a 'auto !important'`);
                }
                 if (item.name === '#wrapper' || item.name === '#page' || item.name === '#contents') {
                   item.el.style.setProperty('overflow', 'auto', 'important');
                   console.log(`  - ${item.name}: overflow forzado a 'auto !important'`);
                }


            } else {
                console.log(`Elemento no encontrado para reseteo: ${item.name}`);
            }
        });
        console.log('--- FIN SCRIPT DE RESETEO AGRESIVO ---');
    }

    // Ejecutar en DOMContentLoaded
    document.addEventListener('DOMContentLoaded', function() {
        console.log('DOMContentLoaded - Ejecutando reseteo agresivo.');
        applyAggressiveResets();
    });

    // Ejecutar repetidamente por un corto tiempo para combatir scripts que actúan tarde
    let attempts = 0;
    const intervalId = setInterval(function() {
        console.log(`Intento de reseteo periódico #${attempts + 1}`);
        applyAggressiveResets();
        attempts++;
        if (attempts >= 30) { // Intentar por 3 segundos (30 * 100ms)
            clearInterval(intervalId);
            console.log('Reseteo periódico finalizado.');
        }
    }, 100); // Cada 100ms

    // También un último intento después de que todo lo demás pueda haber cargado
     setTimeout(function() {
        console.log('Reseteo agresivo tardío (3s).');
        applyAggressiveResets();
    }, 3000);
    </script>
</body>
</html>
